<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="kr.board.mapper.MemberMapper">
  
 <select id="registerCheck" resultType="kr.board.entity.Member">
 	select * from mem_stbl where memID=#{memID}
 </select>
 
 <insert id="register" parameterType="kr.board.entity.Member">
 	insert into mem_stbl(memIdx,memID,memPassword,memName,memAge,memGender,memEmail,memProfile)
     values(mem_stbl_idx.nextval,
     #{memID},#{memPassword},#{memName},#{memAge},#{memGender},#{memEmail},#{memProfile})
 </insert>
  
  <select id="memLogin" parameterType="kr.board.entity.Member" resultType="kr.board.entity.Member">
  	select * from mem_stbl where memID=#{memID} and memPassword=#{memPassword}
  </select>
  
  <update id="memUpdate"  parameterType="kr.board.entity.Member" >
   	update mem_stbl set memPassword=#{memPassword}, memName=#{memName}, memAge=#{memAge},memGender=#{memGender},
   	memEmail=#{memEmail} where memID=#{memID}     
  </update>
  
  <!-- 수정( 회원정보와 권한정보를 같이 가져올 수 있도록 수정) -->
  <select id="getMember" resultType="kr.board.entity.Member">
  	select * from mem_stbl mem left outer join mem_auth auth on 
  	mem.memID=auth.memID where where mem.memID=#{memID}
  </select>
  
  <update id="memProfileUpdate" parameterType="kr.board.entity.Member">
  	update mem_stbl set memProfile=#{memProfile} where memID=#{memID}
  </update>
  
  <insert id="authInsert" parameterType="kr.board.entity.AuthVO">
  	insert into mem_auth(no, memID, auth) values(no_idx.nextval, #{memID},#{auth})
  </insert>
   </mapper>